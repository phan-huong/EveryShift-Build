(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(21),r=a.n(s),i=(a(98),a(14)),o=a(16),l=a(2),d=a.n(l),j=a(7),u=a(8);function b(e){return e&&0===Object.keys(e).length&&e.constructor===Object}function h(){return JSON.parse(localStorage.getItem("userData"))}function f(){return localStorage.getItem("logged_in_token")}function m(e){localStorage.setItem("userData",JSON.stringify(e))}function O(e){return"manager"===e.role}function p(e){return e.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),e}var x=a(6),v=a(9),g=a(10),_=a(19),y=a(20),N=a(0),w=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(v.a)(this,a),e=t.call(this);var n=new Date,c=n.getDate()+"."+(n.getMonth()+1)+"."+n.getFullYear();return e.state={currentDate:c},e}return Object(g.a)(a,[{key:"render",value:function(){return Object(N.jsx)("p",{className:"headerDate",children:this.state.currentDate})}}]),a}(n.Component),k=(a(101),function(e){return Object(N.jsx)("div",{className:"mainHeader",children:e.children})}),D=(a(102),a(103),function(e){return Object(N.jsxs)("div",{className:"nav_icon_btn ".concat(e.className),style:e.style,children:[Object(N.jsx)("p",{className:"nav_icon_img",children:e.icon}),Object(N.jsx)("div",{className:"nav_icon_text",children:e.text})]})}),S=function(e){var t=Object(o.g)(),a=Object(n.useState)(),c=Object(x.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)("employee"),d=Object(x.a)(l,2),j=d[0],u=d[1],b=function(){document.getElementById("sideDrawer").classList.remove("drawerOpen")};return Object(n.useEffect)((function(){if(localStorage.getItem("userData")){var e=JSON.parse(localStorage.getItem("userData"));r(e._id),u(e.role)}}),[s,j]),Object(N.jsx)("aside",{children:Object(N.jsx)("nav",{id:"sideDrawer",className:e.visible?e.visible_class:null,children:Object(N.jsxs)("div",{className:"sideDrawerWrapper",children:[Object(N.jsx)(i.b,{to:"/users/".concat(s),onClick:function(){b(),window.location.href="/users/".concat(s)},children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-id-badge"}),text:"User Profile"})}),"manager"===j?Object(N.jsx)(i.b,{to:"/users/create",onClick:function(){b(),window.location.href="/users/create"},children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-user-plus"}),text:"Create User"})}):Object(N.jsx)(N.Fragment,{}),"manager"===j?Object(N.jsx)(i.b,{to:"/users/employees",onClick:b,children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-users"}),text:"Manage Employees"})}):Object(N.jsx)(N.Fragment,{}),Object(N.jsx)(i.b,{to:"/",onClick:b,children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-cogs"}),text:"Settings"})}),Object(N.jsx)(i.b,{to:"/about",onClick:b,children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-info-circle"}),text:"About"})}),Object(N.jsx)(i.b,{to:"/signin",onClick:function(){b(),localStorage.clear(),t.push("/signin")},children:Object(N.jsx)(D,{icon:Object(N.jsx)("i",{className:"fas fa-sign-out-alt"}),text:"Sign out"})})]})})})},C=(a(67),function(e){var t=Object(n.useState)("Username"),a=Object(x.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),o=Object(x.a)(r,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){if(window.addEventListener("mouseup",(function(e){var t=document.getElementById("sideDrawer"),a=document.getElementById("userNavBtn"),n=document.getElementById("userNavBtn_i");t&&e.target!==t&&e.target.parentNode!==t&&e.target!==a&&e.target!==n&&d(!1)})),localStorage.getItem("userData")){var e=JSON.parse(localStorage.getItem("userData"));s(e.name?e.name:"".concat(e.firstName," ").concat(e.lastName))}}),[]),Object(N.jsxs)("header",{children:[Object(N.jsxs)(k,{children:[Object(N.jsxs)("div",{className:"headerUserContainer",children:[Object(N.jsx)(i.b,{id:"userNavBtn",className:"userNavBtn",onClick:function(e){return e.preventDefault(),void d(!l)},to:"#",children:Object(N.jsx)("i",{id:"userNavBtn_i",className:"fa fa-bars navbar_icon ".concat(l?"navbar_rotate":""),"aria-hidden":"true"})}),Object(N.jsx)("span",{className:"headerUsername",children:c})]}),Object(N.jsx)(w,{})]}),Object(N.jsx)(S,{visible:l,visible_class:"drawerOpen"})]})}),E=a(34),B=a(33),F=(a(108),function(e){return Object(N.jsx)("footer",{className:"mainFooter",children:e.children})}),I=function(e){var t=h();return Object(N.jsxs)(F,{children:[Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Home"})}),children:Object(N.jsx)(i.b,{to:"/","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"fas fa-house-user"})})})}),Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Calendar"})}),children:Object(N.jsx)(i.b,{to:"/calendar","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"far fa-calendar-alt"})})})}),Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Timesheet"})}),children:Object(N.jsx)(i.b,{to:"/timesheet","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("i",{className:"far fa-file-alt"}),Object(N.jsx)("i",{className:"fas fa-clock clockIcon"})]})})}),Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Days-Off"})}),children:Object(N.jsx)(i.b,{to:"/daysoff","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"fas fa-umbrella-beach"})})})}),"manager"===t.role?Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Manage employees"})}),children:Object(N.jsx)(i.b,{to:"/users/employees","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"fa fa-users"})})})}):null,Object(N.jsx)(E.a,{placement:"top",overlay:Object(N.jsx)(B.a,{id:"tooltip-top",children:Object(N.jsx)("strong",{children:"Barcode"})}),children:Object(N.jsx)(i.b,{to:"/","data-toggle":"tooltip",className:"navIcon",children:Object(N.jsx)("div",{children:Object(N.jsx)("i",{className:"fas fa-qrcode"})})})})]})},q=function(e){var t;switch(e){case"pc":t="127.0.0.1";break;case"mobile":t="192.168.178.48";break;default:t="10.0.2.2"}return t},A="mobile",P=(a(110),a(111),function(e){return Object(N.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(N.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})}),T=(a(112),function(e){return Object(N.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),M=(a(113),function(e){return Object(N.jsx)("li",{className:"userItem",children:Object(N.jsx)(T,{className:"userContent",children:Object(N.jsxs)(i.b,{to:"/users/".concat(e.id),children:[Object(N.jsx)("div",{className:"userImage",children:Object(N.jsx)(P,{image:e.image,alt:e.name})}),Object(N.jsxs)("div",{className:"userInfo",children:[Object(N.jsx)("p",{className:"userInfoName",children:e.name}),Object(N.jsxs)("div",{className:"userPlace",children:[Object(N.jsx)("p",{children:e.role}),Object(N.jsxs)("p",{children:[Object(N.jsx)("i",{className:"fas fa-paint-brush",style:{color:"".concat(e.color)}}),Object(N.jsx)("span",{className:"badge badge-pill",style:{background:"".concat(e.color)},children:"\xa0 \xa0 \xa0"})]})]})]})]})})})}),Y=function(e){return 0===e.items.length?Object(N.jsx)(T,{children:Object(N.jsx)("h2",{children:"No users found!"})}):Object(N.jsx)("ul",{className:"usersList",children:e.items.map((function(e){if(JSON.parse(localStorage.getItem("userData"))._id!==e._id)return Object(N.jsx)(M,{id:e._id,image:e.image,name:e.name||"".concat(e.firstName," ").concat(e.lastName),role:e.role,color:e.color_bkgr},e._id)}))})},H=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(h()),r=Object(x.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("logged_in_token"))){e.next=8;break}return(a=new Headers).append("manager_id",i._id?i._id:""),a.append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=8,fetch("http://".concat(q(A),":9000/users/employees"),n).then((function(e){return s=e.status,e.json()})).then((function(e){200===s&&c(e.users)})).catch((function(e){return console.log("error",e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o(h()),e()}),[]),Object(N.jsx)(Y,{items:a})},J=function(){return Object(N.jsx)("h2",{children:"About the APP..."})},V=a(3),z=a(18),U=a(28),G=a(5),L={days_of_week:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],days_short:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],days_super_short:["Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],height_rate:.5};function W(e){var t="";if(e){var a=new Date(e),n=a.getFullYear(),c=a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1,s=a.getDate()<10?"0"+a.getDate():a.getDate();t="".concat(n,"-").concat(c,"-").concat(s)}return t}function R(e){var t="";if(e){var a=new Date(e),n=a.getFullYear(),c=a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1,s=a.getDate()<10?"0"+a.getDate():a.getDate();t="".concat(s,"-").concat(c,"-").concat(n)}return t}function $(e){var t="";if(e){var a=new Date(e).getMonth()+1;t="".concat(a)}return t}function K(e){var t="";if(e){var a=new Date(e).getFullYear();t="".concat(a)}return t}function Q(e){var t;if(e){var a=e.split(":")[0];t=parseInt(a)}return t}function X(e){var t=new Date(e.valueOf()),a=(e.getDay()+6)%7;t.setDate(t.getDate()-a+3);var n=t.valueOf();return t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((n-t)/6048e5)}function Z(e){var t=e.getDay(),a=e.getDate(),n=e.getMonth(),c=e.getFullYear();t=ee(t);for(var s=[],r=0;r<7;r++){var i=void 0;if(r<t)i=a-(t-r);else if(r>t){i=a+(r-t)}else i=a;var o=new Date(c,n,i);s[r]=o}return s}function ee(e){return 0===e?6:e-1}function te(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}a(212),a(213);var ae=function(e){var t,a,c,s,r,i,o,l,u,f,O,p,v,g,_,y,w,k=Object(n.useState)(h()),D=Object(x.a)(k,2),S=D[0],C=D[1],E=e.data,B=E.role?E.role:"",F=E.firstName?E.firstName:"",I=E.lastName?E.lastName:"",P=E.email?E.email:"",T=W(E.dateOfBirth),M=E.gender?E.gender:"",Y=E.streetHouseNr?E.streetHouseNr:"",H=E.city?E.city:"",J=E.postalCode?E.postalCode:"",L=E.state?E.state:"",R=E.phone?E.phone:"",$=E.country?E.country:"",K=E.salary?E.salary:"",Q=W(E.entryDate),X=E.daysOffCount?E.daysOffCount:0,Z=G.b().shape({form_signup:G.a(),firstName:G.d().required("First Name is required"),lastName:G.d().required("Last name is required"),email:G.d().required("Email is required").email("Email is invalid"),role:G.d().when("form_signup",{is:1,then:G.d().required("Position is required")}),dateOfBirth:G.d().required("Date of birth is required").matches(/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,"Date of Birth must be a valid date in the format YYYY-MM-DD"),gender:G.d().required("Gender is required"),phone:G.d().required("Phone is required"),streetHouseNr:G.d().required("Adress is required"),postalCode:G.a().positive().integer().required("Postal code is required").typeError("Postal code must be a positive number"),city:G.d().required("City is required"),state:G.d().required("State is required"),country:G.d().required("Country is required"),salary:G.a().positive().integer().required("Salary is required").typeError("Postal code must be a positive number"),entryDate:G.d().default((function(){return new Date})).matches(/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,"Entry date must be a valid date in the format YYYY-MM-DD").required("Entry Date is required"),daysOffCount:G.a().positive().integer(),password:G.d().when("form_signup",{is:1,then:G.d().min(6,"Password must be at least 6 characters").required("Password is required"),otherwise:G.d().when("password",{is:function(e){return""!==e},then:G.d().min(6,"Password must be at least 6 characters"),otherwise:G.d()})}),confirmPassword:G.d().when("password",{is:function(e){return""!==e},then:G.d().oneOf([G.c("password"),null],"Passwords must match").required("Confirm Password is required"),otherwise:G.d()})}),ee={resolver:Object(U.a)(Z)},te=Object(z.d)(ee),ae=te.register,ne=te.handleSubmit,ce=te.reset,se=te.formState.errors;return Object(N.jsxs)("div",{className:"signupFormContainer",children:[b(E)?Object(N.jsx)("h4",{children:"Create a new account"}):Object(N.jsx)(N.Fragment,{}),Object(N.jsxs)("form",{onSubmit:ne((function(e){(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("logged_in_token"))){e.next=15;break}if((n=new Headers).append("Authorization","Bearer ".concat(a)),n.append("Content-Type","application/json"),c=JSON.stringify(t),b(E)){e.next=12;break}return s={method:"PATCH",headers:n,body:c,redirect:"follow"},e.next=10,fetch("http://".concat(q(A),":9000/users/").concat(E._id),s).then((function(e){return r=e.status,e.json()})).then((function(e){200===r&&(S._id===e.edited_user._id?(C(e.edited_user),m(e.edited_user),window.location.href="/"):window.location.href="/users/employees")})).catch((function(e){console.log("error",e),alert("Updated failed!")}));case 10:e.next=15;break;case 12:return i={method:"POST",headers:n,body:c,redirect:"follow"},e.next=15,fetch("http://".concat(q(A),":9000/users/signup"),i).then((function(e){return o=e.status,e.json()})).then((function(e){201===o&&(console.log(e),alert("Created successfully!"))})).catch((function(e){console.log("error",e),alert("Created failed!")}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)})),children:[Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"form_signup",type:"hidden"},ae("form_signup")),{},{value:b(e.data)?1:0})),Object(N.jsx)("input",{name:"current_user_id",type:"hidden",value:S._id?S._id:-1}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Position"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"role"},ae("role")),{},{className:"form-control ".concat(se.role?"is-invalid":""),disabled:"manager"!==S.role,defaultValue:B,children:[Object(N.jsx)("option",{value:"",children:"Please choose role"}),Object(N.jsx)("option",{value:"employee",children:"Employee"}),Object(N.jsx)("option",{value:"manager",children:"Manager"})]})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(t=se.role)||void 0===t?void 0:t.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"First Name"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"firstName",type:"text"},ae("firstName")),{},{className:"form-control ".concat(se.firstName?"is-invalid":""),defaultValue:F})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(a=se.firstName)||void 0===a?void 0:a.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Last Name"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"lastName",type:"text"},ae("lastName")),{},{className:"form-control ".concat(se.lastName?"is-invalid":""),defaultValue:I})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(c=se.lastName)||void 0===c?void 0:c.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Email"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"email",type:"text",placeholder:"example@email.com"},ae("email")),{},{className:"form-control ".concat(se.email?"is-invalid":""),defaultValue:P})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(s=se.email)||void 0===s?void 0:s.message})]}),Object(N.jsxs)("div",{className:"field_2col",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Date of Birth"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"dateOfBirth",type:"date"},ae("dateOfBirth")),{},{className:"form-control ".concat(se.dateOfBirth?"is-invalid":""),defaultValue:T})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(r=se.dateOfBirth)||void 0===r?void 0:r.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Gender"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"gender"},ae("gender")),{},{className:"form-control ".concat(se.gender?"is-invalid":""),defaultValue:M,children:[Object(N.jsx)("option",{value:""}),Object(N.jsx)("option",{value:"female",children:"Female"}),Object(N.jsx)("option",{value:"male",children:"Male"}),Object(N.jsx)("option",{value:"other",children:"Other"})]})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(i=se.gender)||void 0===i?void 0:i.message})]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Phone"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"phone",type:"tel",placeholder:"+49 12345678910",pattern:"+[0-9]{2} [0-9]{11}"},ae("phone")),{},{className:"form-control ".concat(se.phone?"is-invalid":""),defaultValue:R})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(o=se.phone)||void 0===o?void 0:o.message})]}),Object(N.jsx)("p",{children:"Adress"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Street, House number"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"streetHouseNr",type:"text"},ae("streetHouseNr")),{},{className:"form-control ".concat(se.streetHouseNr?"is-invalid":""),defaultValue:Y})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(l=se.streetHouseNr)||void 0===l?void 0:l.message})]}),Object(N.jsxs)("div",{className:"field_2col",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"City"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"city",type:"text"},ae("city")),{},{className:"form-control ".concat(se.city?"is-invalid":""),defaultValue:H})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(u=se.city)||void 0===u?void 0:u.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Postal Code"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"postalCode",type:"text"},ae("postalCode")),{},{className:"form-control ".concat(se.postalCode?"is-invalid":""),defaultValue:J})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(f=se.postalCode)||void 0===f?void 0:f.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"State"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"state",type:"text"},ae("state")),{},{className:"form-control ".concat(se.state?"is-invalid":""),defaultValue:L})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(O=se.state)||void 0===O?void 0:O.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Country"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"country",type:"text"},ae("country")),{},{className:"form-control ".concat(se.country?"is-invalid":""),defaultValue:$})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(p=se.country)||void 0===p?void 0:p.message})]})]}),Object(N.jsxs)("div",{className:"field_2col",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Salary"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"salary",type:"number",min:"1"},ae("salary")),{},{className:"form-control ".concat(se.salary?"is-invalid":""),defaultValue:K})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(v=se.salary)||void 0===v?void 0:v.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Days-off"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"daysOffCount",type:"number",min:0,step:1},ae("daysOffCount")),{},{className:"form-control ".concat(se.daysOffCount?"is-invalid":""),defaultValue:X})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(g=se.daysOffCount)||void 0===g?void 0:g.message})]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Entry date"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"entryDate",type:"date"},ae("entryDate")),{},{className:"form-control ".concat(se.entryDate?"is-invalid":""),defaultValue:Q})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(_=se.entryDate)||void 0===_?void 0:_.message})]}),Object(N.jsxs)("div",{className:S._id===E._id||b(E)?"":"d-none",children:[Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"password",type:"password"},ae("password")),{},{className:"form-control ".concat(se.password?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(y=se.password)||void 0===y?void 0:y.message})]}),Object(N.jsxs)("div",{className:S._id===E._id||b(E)?"":"d-none",children:[Object(N.jsx)("label",{children:"Confirm Password"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"confirmPassword",type:"password"},ae("confirmPassword")),{},{className:"form-control ".concat(se.confirmPassword?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(w=se.confirmPassword)||void 0===w?void 0:w.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{type:"submit",className:"btn mr-1 formBtn",children:"Apply"}),Object(N.jsx)("button",{type:"button",onClick:function(){return ce()},className:"btn btn-secondary",children:"Reset"})]})]})]})},ne=function(e){var t=Object(n.useState)(),a=Object(x.a)(t,2),c=a[0],s=a[1],r=Object(o.h)().id;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("logged_in_token"),c||!t||"create"===r){e.next=9;break}return(a=new Headers).append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=7,fetch("http://".concat(q(A),":9000/users/").concat(r),n).then((function(e){return i=e.status,e.json()})).then((function(e){200===i&&s(e.user_data)})).catch((function(e){return console.log("error",e)}));case 7:e.next=10;break;case 9:s({});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(N.jsx)(N.Fragment,{children:c?Object(N.jsx)(ae,{data:c}):Object(N.jsx)(N.Fragment,{})})},ce=function(e){var t=Z(e.currentUserDate);return Object(N.jsx)("h5",{className:"month_label mb-0",children:function(){var e=t[0].getMonth(),a=t[t.length-1].getMonth(),n=t[0].getFullYear(),c=t[t.length-1].getFullYear();return e===a?"".concat(L.months_short[e]," ").concat(n):n===c?"".concat(L.months_short[e]," / ").concat(L.months_short[a]," ").concat(n):"".concat(L.months_short[e]," ").concat(n," / ").concat(L.months_short[a]," ").concat(c)}()})},se=function(e){return Object(N.jsxs)("div",{className:"calendar_controller",children:[Object(N.jsx)("button",{className:"btn-sm btn formBtn shadow-none",onClick:function(){e.update(-7)},children:Object(N.jsx)("i",{className:"fa fa-angle-double-left"})}),Object(N.jsxs)("span",{className:"week_label",children:["Week ",X(e.currentUserDate)]}),Object(N.jsx)("button",{className:"btn-sm btn formBtn shadow-none",onClick:function(){e.update(7)},children:Object(N.jsx)("i",{className:"fa fa-angle-double-right"})})]})},re=function(e){var t=Z(e.currentUserDate);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"hours_of_day_label"}),Object(N.jsx)("div",{className:"days_of_week_label",children:t.map((function(e,t){return Object(N.jsxs)("div",{className:"single_day_of_week_label",children:[Object(N.jsx)("span",{children:L.days_super_short[ee(e.getDay())]}),Object(N.jsx)("span",{children:e.getDate()})]},"day_title_".concat(t))}))})]})},ie=function(e){var t=e.item_height,a=function(){for(var e=[],a=0,n=0;n<24;n++)e.push(a),a+=t;return e}();return Object(N.jsx)(N.Fragment,{children:a.map((function(e,t){return 0===e?Object(N.jsx)(c.a.Fragment,{},"hour_line_".concat(t)):Object(N.jsx)("div",{className:"hour_line",style:{top:"".concat(e,"px")}},"hour_line_".concat(t))}))})};a(214);function oe(e){document.getElementById(e).classList.contains("d-flex")&&document.getElementById(e).classList.remove("d-flex")}function le(e){document.getElementById(e).classList.contains("d-flex")||document.getElementById(e).classList.add("d-flex")}var de=function(e){return Object(N.jsx)("div",{id:e.id,className:"custom_modal",children:Object(N.jsxs)("div",{className:"custom_modal_wrapper rounded",children:[Object(N.jsxs)("div",{className:"custom_modal_header",children:[Object(N.jsx)("div",{className:"title",children:e.title}),Object(N.jsx)("div",{className:"close_btn",children:Object(N.jsx)("button",{onClick:function(){oe(e.id)},children:Object(N.jsx)("i",{className:"fa fa-times"})})})]}),Object(N.jsx)("div",{className:"custom_modal_content",children:Object(N.jsx)("div",{id:e.main_content_id,className:"main_content",children:e.children})}),e.has_footer?Object(N.jsxs)("div",{className:"custom_modal_footer",children:[Object(N.jsx)("div",{className:"status"}),Object(N.jsxs)("div",{className:"buttons",children:[e.has_action_btn?Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){oe(e.id),e.action_function()},children:"Apply"}):Object(N.jsx)(N.Fragment,{}),e.has_close_btn?Object(N.jsx)("button",{className:"btn btn-secondary",onClick:function(){oe(e.id)},children:"Close"}):Object(N.jsx)(N.Fragment,{})]})]}):Object(N.jsx)(N.Fragment,{})]})})},je=function(e){var t=h(),a=Array.isArray(e.shift),n=function(e){var t;switch(e){case"done":t="success";break;case"accepted":t="primary";break;default:t="warning"}return t},c=function(){var t={top:0,height:0,colors:[]},c=a?e.shift[0].start_time.split(":"):e.shift.start_time.split(":"),s=a?e.shift[0].end_time.split(":"):e.shift.end_time.split(":"),r=(parseInt(c[1])/60+parseInt(c[0]))*e.item_height,i=(parseInt(s[1])/60+parseInt(s[0]))*e.item_height-r,o=[];if(a){var l,d=Object(u.a)(e.shift);try{for(d.s();!(l=d.n()).done;){var j=l.value;o.push(n(j.status))}}catch(b){d.e(b)}finally{d.f()}}else o.push(n(e.shift.status));return t.top=r,t.height=i,t.colors=o,t}(),s=function(e){var a=Array.isArray(e.data),c=function(e){return Object(N.jsxs)("a",{href:"done"!==e.data.status?"/shifts/".concat(e.data._id):"#",className:"list-group-item list-group-item-action list-group-item-".concat(n(e.data.status)),children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{children:O(t)?"".concat(e.data.worker.firstName," ").concat(e.data.worker.lastName):"Myself"}),Object(N.jsx)("span",{children:e.data.status})]}),"done"!==e.data.status?Object(N.jsx)("i",{className:"fa fa-pencil"}):Object(N.jsx)(N.Fragment,{})]})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("table",{className:"table table-striped table-bordered text-light mt-3",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Date"}),Object(N.jsx)("td",{children:R(a?e.data[0].date:e.data.date)})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Starting time"}),Object(N.jsx)("td",{children:a?e.data[0].start_time:e.data.start_time})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Ending time"}),Object(N.jsx)("td",{children:a?e.data[0].end_time:e.data.end_time})]})]})}),Object(N.jsxs)("h6",{className:"mt-4 mb-3",children:[Object(N.jsx)("i",{className:"fa fa-user"})," Employee(s)"]}),Object(N.jsx)("div",{className:"list-group employee_list",children:a?e.data.map((function(e,t){return Object(N.jsx)(c,{data:e},"single_employee_".concat(t))})):Object(N.jsx)(c,{data:e.data})})]})};return Object(N.jsx)("div",{className:"shift_item ".concat(a?"shift_item_multiple":""," rounded border"),style:{top:c.top,height:c.height},onClick:function(){var t;t=e.shift,r.a.render(Object(N.jsx)(s,{data:t}),document.getElementById("edit_shift_modal_content")),le("edit_shift_modal")},children:a?c.colors.map((function(e,t){return Object(N.jsx)("i",{className:"fa fa-user text-".concat(e)},"item_color_".concat(t))})):Object(N.jsx)("i",{className:"fa fa-user text-".concat(c.colors[0])})})},ue=function(e){var t=function(){var t,a=[],n=Object(u.a)(e.shifts);try{for(n.s();!(t=n.n()).done;){var c,s=t.value,r=new Date(s.date),i=Object(u.a)(e.current_week);try{for(i.s();!(c=i.n()).done;){var o=c.value,l=ee(o.getDay());if(te(r,o)&&l===e.current_day){a.push(s);break}}}catch(v){i.e(v)}finally{i.f()}}}catch(v){n.e(v)}finally{n.f()}var d,j=[],b=function(e){var t,a=[],n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,s="".concat(c.start_time,"-").concat(c.end_time);a.includes(s)||a.push(s)}}catch(v){n.e(v)}finally{n.f()}return a}(a),h=Object(u.a)(b);try{for(h.s();!(d=h.n()).done;){var f,m=d.value,O=[],p=Object(u.a)(a);try{for(p.s();!(f=p.n()).done;){var x=f.value;m==="".concat(x.start_time,"-").concat(x.end_time)&&O.push(x)}}catch(v){p.e(v)}finally{p.f()}1===O.length?j.push(O[0]):O.length>1&&j.push(O)}}catch(v){h.e(v)}finally{h.f()}return j}();return Object(N.jsx)(N.Fragment,{children:t.length>0?t.map((function(t,a){return Object(N.jsx)(je,{shift:t,item_height:e.item_height},"shift_item_".concat(a))})):Object(N.jsx)(N.Fragment,{})})},be=function(e){var t=60*L.height_rate,a=24*t,n=function(e,t,a){for(var n,c=[],s=a||0,r=0;r<24;r++){var i=(n=r)<10?"0"+n:n;t&&(i={label:i,top:s+"px"}),c.push(i),r>0&&(s+=e)}return c}(t,!0,t/2+6.8),s=Z(e.currentUserDate);return Object(N.jsxs)("div",{className:"calendar_main_wrapper",children:[Object(N.jsx)("div",{className:"time_of_day",style:{height:"".concat(a,"px")},children:n.map((function(e,t){return 0===t?Object(N.jsx)(c.a.Fragment,{},"time_label_".concat(t)):Object(N.jsx)("div",{className:"single_time",style:{top:e.top},children:e.label},"time_label_".concat(t))}))}),Object(N.jsxs)("div",{className:"days_of_week",children:[Object(N.jsx)(ie,{item_height:t}),Object(N.jsx)("div",{className:"days_of_week_content",children:L.days_super_short.map((function(a,n){return Object(N.jsx)("div",{className:"single_day_content",children:Object(N.jsx)(ue,{current_week:s,current_day:n,shifts:e.shifts,item_height:t})},"day_content_".concat(n))}))})]})]})},he=(a(215),function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("current_date");if(e)return new Date(e);var t=new Date;return localStorage.setItem("current_date",t),t}()),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(x.a)(s,2),i=r[0],o=r[1],l=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a).then((function(e){return n=e.status,e.json()})).then((function(e){200===n&&o(e.shifts)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=localStorage.getItem("logged_in_token"),t=JSON.parse(localStorage.getItem("userData"));if(e&&t){var a=new Headers;a.append("Authorization","Bearer ".concat(e));var n={method:"GET",headers:a,redirect:"follow"};"manager"===t.role?l("http://".concat(q(A),":9000/shifts"),n):l("http://".concat(q(A),":9000/shifts/").concat(t._id),n)}}),[a]),Object(N.jsxs)("div",{className:"calendar_page",children:[Object(N.jsxs)("div",{className:"calendar_wrapper",children:[Object(N.jsx)(ce,{currentUserDate:a}),Object(N.jsx)(se,{update:function(e){var t=function(e,t){var a=e.getDate()+t;return new Date(e.getFullYear(),e.getMonth(),a)}(a,e);!function(e){localStorage.setItem("current_date",e)}(t),c(t)},currentUserDate:a}),Object(N.jsxs)("div",{className:"calender_inner_wrapper",children:[Object(N.jsx)(re,{currentUserDate:a}),Object(N.jsx)(be,{currentUserDate:a,shifts:i})]}),Object(N.jsx)("div",{className:"create_shift_section",children:Object(N.jsxs)("button",{className:"btn formBtn",onClick:function(){window.location.href="/shifts/create"},children:[Object(N.jsx)("i",{className:"fa fa-plus mr-2"}),Object(N.jsx)("span",{children:"Create a new shift"})]})})]}),Object(N.jsx)(de,{id:"edit_shift_modal",main_content_id:"edit_shift_modal_content",title:"Shift details",has_close_btn:!0,has_action_btn:!1})]})}),fe=function(){return Object(N.jsx)(he,{})},me=(a(216),a(50)),Oe=(a(217),function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=h()._id;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("logged_in_token"),(a=new Headers).append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=6,fetch("http://".concat(q(A),":9000/shifts/").concat(s),n).then((function(e){return r=e.status,e.json()})).then((function(e){200===r&&c(e.shifts)})).catch((function(e){return console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=f())){e.next=7;break}return(n=new Headers).append("Authorization","Bearer ".concat(a)),c={method:"DELETE",headers:n,redirect:"follow"},e.next=7,fetch("http://".concat(q(A),":9000/shifts/delete/").concat(t),c).then((function(e){return s=e.status,e.json()})).then((function(e){200===s&&(console.log(e),alert("Deleted successfully!"),"quick"===t.type?window.location.href="/calendar":window.location.href="/timesheet")})).catch((function(e){console.log("error",e),alert("Deleted failed!")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=Object(z.d)().register,l=Object(n.useState)("by_date"),b=Object(x.a)(l,2),m=b[0],O=b[1];return Object(N.jsxs)("div",{className:"wishlist_wrapper",children:[Object(N.jsxs)("div",{className:"wishlist_controller",children:[Object(N.jsxs)("button",{className:"wishlist_btn btn mr-1 formBtn",onClick:function(){window.location.href="/shifts/create"},children:[Object(N.jsx)("i",{className:"fa fa-plus mr-2"}),Object(N.jsx)("span",{children:"New"})]}),Object(N.jsxs)("form",{className:"sort_by",children:[Object(N.jsx)("label",{children:"Sorted by:"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"sorted_by"},o("sorted_by")),{},{defaultValue:"by_date",onChange:function(e){O(e.target.value)},children:[Object(N.jsx)("option",{value:"by_date",children:"Date"}),Object(N.jsx)("option",{value:"by_status",children:"Status"})]}))]})]}),Object(N.jsx)("div",{className:"wishlist_table",children:Object(N.jsxs)(me.a,{striped:!0,bordered:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"Date"}),Object(N.jsx)("td",{children:"Start"}),Object(N.jsx)("td",{children:"End"}),Object(N.jsx)("td",{children:"Status"}),Object(N.jsx)("td",{children:"Actions"})]})}),Object(N.jsx)("tbody",{children:function(){var e=p(a),t=[],n=[],c=[],s=[];if("by_date"===m){var o,l=Object(u.a)(e);try{for(l.s();!(o=l.n()).done;){var d=o.value;"accepted"!==d.status&&"pending"!==d.status||c.push(d)}}catch(D){l.e(D)}finally{l.f()}}else if("by_status"===m){var j,b=Object(u.a)(e);try{for(b.s();!(j=b.n()).done;){var h=j.value;"pending"===h.status&&n.push(h),"accepted"===h.status&&t.push(h)}}catch(D){b.e(D)}finally{b.f()}var f,O=Object(u.a)(n);try{for(O.s();!(f=O.n()).done;){var x=f.value;c.push(x)}}catch(D){O.e(D)}finally{O.f()}var v,g=Object(u.a)(t);try{for(g.s();!(v=g.n()).done;){var _=v.value;c.push(_)}}catch(D){g.e(D)}finally{g.f()}}for(var y=function(){var e=k[w],t=Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:R(e.date)}),Object(N.jsx)("td",{children:e.start_time}),Object(N.jsx)("td",{children:e.end_time}),Object(N.jsx)("td",{children:Object(N.jsx)("span",{className:"badge badge-pill ".concat("accepted"===e.status?"badge-primary":"badge-warning"),children:e.status})}),Object(N.jsx)("td",{className:"wishlist_actions",children:"pending"===e.status?Object(N.jsxs)("div",{className:"wishlist_pending",children:[Object(N.jsx)("button",{onClick:function(){r("".concat(e._id))},children:Object(N.jsx)("i",{className:"fas fa-trash-alt"})}),Object(N.jsx)(i.b,{to:"/shifts/".concat(e._id),children:Object(N.jsx)("i",{className:"fas fa-edit"})})]}):Object(N.jsx)("button",{onClick:function(){r("".concat(e._id))},children:Object(N.jsx)("i",{className:"fas fa-trash-alt"})})})]},e._id);s.push(t)},w=0,k=c;w<k.length;w++)y();return s}()})]})})]})}),pe=(a(218),function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=h(),r=s._id,i=s.salary,o=(new Date).getFullYear().toString(),l=(new Date).getMonth();Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("logged_in_token"),(a=new Headers).append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=6,fetch("http://".concat(q(A),":9000/shifts/").concat(r),n).then((function(e){return s=e.status,e.json()})).then((function(e){200===s&&c(e.shifts)})).catch((function(e){return console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=Object(z.d)().register,f=Object(n.useState)("".concat(l)),m=Object(x.a)(f,2),O=m[0],v=m[1],g=0;return Object(N.jsxs)("div",{className:"wishlist_wrapper",children:[Object(N.jsxs)("div",{className:"wishlist_controller",children:[Object(N.jsx)("p",{children:o}),Object(N.jsxs)("form",{className:"sort_by",children:[Object(N.jsx)("label",{children:"Month:"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"month"},b("month")),{},{defaultValue:"".concat(l),onChange:function(e){v(e.target.value)},children:[Object(N.jsx)("option",{value:"1",children:"Jan"}),Object(N.jsx)("option",{value:"2",children:"Feb"}),Object(N.jsx)("option",{value:"3",children:"Mar"}),Object(N.jsx)("option",{value:"4",children:"Apr"}),Object(N.jsx)("option",{value:"5",children:"May"}),Object(N.jsx)("option",{value:"6",children:"Jun"}),Object(N.jsx)("option",{value:"7",children:"Jul"}),Object(N.jsx)("option",{value:"8",children:"Aug"}),Object(N.jsx)("option",{value:"9",children:"Sep"}),Object(N.jsx)("option",{value:"10",children:"Oct"}),Object(N.jsx)("option",{value:"11",children:"Nov"}),Object(N.jsx)("option",{value:"12",children:"Dec"})]}))]})]}),Object(N.jsx)("div",{className:"wishlist_table",children:Object(N.jsxs)(me.a,{striped:!0,bordered:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"Date"}),Object(N.jsx)("td",{children:"Start"}),Object(N.jsx)("td",{children:"End"}),Object(N.jsx)("td",{children:"Status"})]})}),Object(N.jsx)("tbody",{children:function(){var e,t=p(a),n=[],c=[],s=Object(u.a)(t);try{for(s.s();!(e=s.n()).done;){var r=e.value,l=$(r.date),d=K(r.date);"done"===r.status&&l===O&&d===o&&n.push(r)}}catch(D){s.e(D)}finally{s.f()}for(var j=0,b=n;j<b.length;j++){var h=b[j],f=h.start_time,m=h.end_time,x=Q(f),v=Q(m);g+=(v-x)*i}for(var _=0,y=n;_<y.length;_++){var w=y[_],k=Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:R(w.date)}),Object(N.jsx)("td",{children:w.start_time}),Object(N.jsx)("td",{children:w.end_time}),Object(N.jsx)("td",{children:Object(N.jsx)("span",{className:"badge badge-pill badge-success",children:w.status})})]},w._id);c.push(k)}return c}()})]})}),Object(N.jsxs)("div",{className:"pay_check",children:["Brutto monthly salary: ","".concat(g)," \u20ac"]})]})}),xe=function(){return Object(N.jsxs)("div",{className:"timesheet_wrapper",children:[Object(N.jsxs)("nav",{className:"nav nav-pills nav-fill",children:[Object(N.jsx)("a",{className:"wishlist nav-item nav-link active",href:"#wishlist","data-toggle":"tab",children:"Wishlist"}),Object(N.jsx)("a",{className:"finishedShifts nav-item nav-link",href:"#paycheck","data-toggle":"tab",children:"Paycheck"})]}),Object(N.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(N.jsx)("div",{className:"tab-pane fade show active",id:"wishlist",role:"tabpanel","aria-labelledby":"home-tab",children:Object(N.jsx)(Oe,{})}),Object(N.jsx)("div",{className:"tab-pane fade",id:"paycheck",role:"tabpanel","aria-labelledby":"profile-tab",children:Object(N.jsx)(pe,{})})]})]})},ve=function(e){var t,a,c,s,r,i=h(),o=Object(n.useState)([]),l=Object(x.a)(o,2),m=l[0],p=l[1],v=e.data,g=b(v)?i._id:v.worker._id||v.worker||i._id,_=W(v.date),y=v.start_time?v.start_time:"",w=v.end_time?v.end_time:"",k=""!==y&&""!==w?"".concat(y,"-").concat(w):"",D=v.status?v.status:"pending",S=v.job?v.job:"",C=G.b().shape({user_role:G.a(),worker:G.d().when("user_role",{is:1,then:G.d().required("Employee is required")}),shift_date:G.d().default((function(){return new Date})).matches(/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,"Date must be a valid date in the format YYYY-MM-DD").required("Date is required"),shift_time:G.d().required("Time is required"),status:G.d().when("user_role",{is:1,then:G.d().required("Time is required")}),job:G.d()}),E={resolver:Object(U.a)(C)},B=Object(z.d)(E),F=B.register,I=B.handleSubmit,P=B.reset,T=B.formState.errors,M=function(){var t=Object(j.a)(d.a.mark((function t(){var a,n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=f())){t.next=7;break}return(n=new Headers).append("Authorization","Bearer ".concat(a)),c={method:"DELETE",headers:n,redirect:"follow"},t.next=7,fetch("http://".concat(q(A),":9000/shifts/delete/").concat(v._id),c).then((function(e){return s=e.status,e.json()})).then((function(t){200===s&&(console.log(t),alert("Deleted successfully!"),"quick"===e.type?window.location.href="/calendar":window.location.href="/timesheet"),500===s&&alert(t.message)})).catch((function(e){console.log("error",e),alert("Deleted failed!")}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=f())){e.next=8;break}return(a=new Headers).append("manager_id",i._id?i._id:""),a.append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=8,fetch("http://".concat(q(A),":9000/users/employees"),n).then((function(e){return c=e.status,e.json()})).then((function(e){if(200===c){var t=e.users;t.unshift(i),p(t)}})).catch((function(e){return console.log("error",e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(N.jsxs)("div",{className:"signupFormContainer",children:[Object(N.jsx)("h4",{children:b(v)?"Create a shift":"Update shift"}),Object(N.jsxs)("form",{onSubmit:I((function(t){var a=function(){var e=Object(j.a)(d.a.mark((function e(a,c){var s,r,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!1,!(r=f())){e.next=8;break}return(i=new Headers).append("Authorization","Bearer ".concat(r)),o={method:"GET",headers:i,redirect:"follow"},e.next=8,fetch("http://".concat(q(A),":9000/users/").concat(c),o).then((function(e){return l=e.status,e.json()})).then((function(e){if(200===l)if(e.user_data.daysOff.length>0){var c=new Date(a);console.log("===> input_date: "+c);var r,i=Object(u.a)(e.user_data.daysOff);try{for(i.s();!(r=i.n()).done;){var o=r.value,d=new Date(o);if(te(c,d)){console.log("===> user_daysoff: "+d),s=!0;break}}}catch(j){i.e(j)}finally{i.f()}s?alert("Cannot have a shift on vacation day. Please choose another date!"):n(t)}else n(t)})).catch((function(e){return console.log("error",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n=function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,s,r,o,l,j,u,h,m;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=f())){t.next=22;break}if((c=new Headers).append("Authorization","Bearer ".concat(n)),c.append("Content-Type","application/json"),s=a.shift_time.split("-")[0],r=a.shift_time.split("-")[1],o={date:a.shift_date,job:a.job,start_time:s,end_time:r,status:a.status||D,worker:a.worker||g},l=JSON.stringify(o),b(v)){t.next=19;break}if(O(i)||"pending"===o.status){t.next=14;break}alert("This shift has been approved/done and can't be updated anymore."),t.next=17;break;case 14:return j={method:"PATCH",headers:c,body:l,redirect:"follow"},t.next=17,fetch("http://".concat(q(A),":9000/shifts/").concat(v._id),j).then((function(e){return u=e.status,e.json()})).then((function(t){200===u&&(console.log(t),"quick"===e.type?window.location.href="/calendar":window.location.href="/timesheet")})).catch((function(e){console.log("error",e),alert("Updated failed!")}));case 17:t.next=22;break;case 19:return h={method:"POST",headers:c,body:l,redirect:"follow"},t.next=22,fetch("http://".concat(q(A),":9000/shifts"),h).then((function(e){return m=e.status,e.json()})).then((function(t){201===m&&(console.log(t),"quick"===e.type?window.location.href="/calendar":window.location.href="/timesheet")})).catch((function(e){console.log("error",e),alert("Created failed!")}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a(t.shift_date,t.worker||g)})),children:[Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"user_role",type:"hidden"},F("user_role")),{},{value:O(i)?1:0})),m.length>0?Object(N.jsxs)("div",{className:O(i)?"":"d-none",children:[Object(N.jsx)("label",{children:"Employee"}),Object(N.jsx)("select",Object(V.a)(Object(V.a)({id:"shift_form_select_employee",defaultValue:g,name:"worker"},F("worker")),{},{className:"form-control ".concat(T.worker?"is-invalid":""),disabled:!O(i),children:m.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e._id===i._id?"Myself":"".concat(e.firstName," ").concat(e.lastName)},"select_employee_".concat(t))}))})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(t=T.worker)||void 0===t?void 0:t.message})]}):Object(N.jsx)(N.Fragment,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Date"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"shift_date",type:"date"},F("shift_date")),{},{className:"form-control ".concat(T.shift_date?"is-invalid":""),defaultValue:_})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(a=T.shift_date)||void 0===a?void 0:a.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Time"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"shift_time"},F("shift_time")),{},{className:"form-control ".concat(T.shift_time?"is-invalid":""),defaultValue:k,children:[Object(N.jsx)("option",{value:"",children:"Please choose a shift"}),Object(N.jsx)("option",{value:"06:00-10:00",children:"06:00 - 10:00"}),Object(N.jsx)("option",{value:"10:00-14:00",children:"10:00 - 14:00"}),Object(N.jsx)("option",{value:"14:00-18:00",children:"14:00 - 18:00"}),Object(N.jsx)("option",{value:"18:00-22:00",children:"18:00 - 22:00"})]})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(c=T.shift_time)||void 0===c?void 0:c.message})]}),Object(N.jsxs)("div",{className:O(i)?"":"d-none",children:[Object(N.jsx)("label",{children:"Status"}),Object(N.jsxs)("select",Object(V.a)(Object(V.a)({name:"status"},F("status")),{},{className:"form-control ".concat(T.status?"is-invalid":""),disabled:!O(i),defaultValue:D,children:[Object(N.jsx)("option",{value:"pending",children:"Pending"}),Object(N.jsx)("option",{value:"accepted",children:"Accepted"}),Object(N.jsx)("option",{value:"done",children:"Done"})]})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(s=T.status)||void 0===s?void 0:s.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Job"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"job",type:"text"},F("job")),{},{className:"form-control ".concat(T.job?"is-invalid":""),defaultValue:S})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(r=T.job)||void 0===r?void 0:r.message})]}),Object(N.jsxs)("div",{className:"action_buttons",children:[Object(N.jsxs)("div",{className:"left_btns",children:[Object(N.jsx)("button",{type:"submit",className:"btn mr-1 formBtn",children:"Apply"}),Object(N.jsx)("button",{type:"button",onClick:function(){return P()},className:"btn btn-secondary",children:"Reset"})]}),Object(N.jsx)("div",{className:"right_btns",children:"done"===D||b(v)?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)("button",{type:"button",onClick:function(){M()},className:"btn btn-outline-danger",children:"Delete"})})]})]})]})},ge=function(e){var t=Object(n.useState)(),a=Object(x.a)(t,2),c=a[0],s=a[1],r=Object(o.h)().id;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=f())){e.next=11;break}if(c||"create"===r){e.next=10;break}return(a=new Headers).append("Authorization","Bearer ".concat(t)),n={method:"GET",headers:a,redirect:"follow"},e.next=8,fetch("http://".concat(q(A),":9000/shifts/shift/").concat(r),n).then((function(e){return i=e.status,e.json()})).then((function(e){200===i&&s(e.shift)})).catch((function(e){return console.log("error",e)}));case 8:e.next=11;break;case 10:s({});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(N.jsx)(N.Fragment,{children:c?Object(N.jsx)(ve,{data:c,type:"full"}):Object(N.jsx)(N.Fragment,{})})},_e=function(e){var t=function(){var t,a=e.userData,n=a.daysOffCount||24,c=a.daysOff||[],s=((t=c).sort((function(e,t){return new Date(e)-new Date(t)})),t);return{count:n,years:function(e){var t,a=[],n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value,s=new Date(c).getFullYear();a.includes(s)||a.push(s)}}catch(r){n.e(r)}finally{n.f()}return a}(s),list:s}}(),a=function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,s,r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=f())){t.next=9;break}return(c=new Headers).append("Authorization","Bearer ".concat(n)),c.append("Content-Type","application/json"),s=JSON.stringify({dates:[a]}),r={method:"PATCH",headers:c,body:s,redirect:"follow"},t.next=9,fetch("http://".concat(q(A),":9000/users/").concat(e.userData._id,"/daysoff/delete"),r).then((function(e){return i=e.status,e.json()})).then((function(t){200===i&&(alert("Deleted successfully!"),e.update_userData(t.edited_user)),500===i&&alert(t.message)})).catch((function(e){console.log("error",e),alert("Deleted failed!")}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("ul",{id:"year_accordion",className:"year_list list-group border",children:t.years.length>0?t.years.map((function(e,n){return Object(N.jsxs)("li",{className:"year_item",children:[Object(N.jsxs)("a",{href:"#year_item_".concat(n),className:"year_item_link list-group-item list-group-item-action list-group-item-primary","data-toggle":"collapse",children:[Object(N.jsx)("span",{className:"title",children:"Days-off in ".concat(e)}),Object(N.jsx)("i",{className:"icon fa fa-chevron-down arrow_rotate"})]}),Object(N.jsx)("div",{id:"year_item_".concat(n),className:"collapse ".concat((new Date).getFullYear()===e?"show":""),"data-parent":"#year_accordion",children:Object(N.jsx)("div",{className:"card-body",children:t.list.length>0?t.list.map((function(t,n){var c=new Date(t),s=R(t),r=W(t);return c.getFullYear()!==e?null:Object(N.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(N.jsx)("input",{type:"text",className:"form-control shadow-none",value:s,readOnly:!0}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsx)("button",{className:"btn btn-outline-danger shadow-none",type:"button",onClick:function(){a(r)},children:Object(N.jsx)("i",{className:"fa fa-times"})})})]},"daysoff_group_".concat(n))})):null})})]},"year_".concat(n))})):Object(N.jsxs)("li",{class:"list-group-item list-group-item-warning",children:[Object(N.jsx)("i",{class:"fa fa-exclamation-circle"})," No days-off found."]})})})},ye=function(e){var t,a,n=G.b().shape({from_date:G.d().required("Single / From date is required"),to_date:G.d()}),c={resolver:Object(U.a)(n)},s=Object(z.d)(c),r=s.register,i=s.handleSubmit,o=s.reset,l=s.formState.errors;return Object(N.jsxs)("form",{onSubmit:i((function(t){(function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,s,r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=f())){t.next=9;break}return(c=new Headers).append("Authorization","Bearer ".concat(n)),c.append("Content-Type","application/json"),s=JSON.stringify(a),r={method:"PATCH",headers:c,body:s,redirect:"follow"},t.next=9,fetch("http://".concat(q(A),":9000/users/").concat(e.userData._id,"/daysoff/create"),r).then((function(e){return i=e.status,e.json()})).then((function(t){200===i&&(alert("Added successfully!"),e.update_userData(t.edited_user)),500===i&&alert(t.message)})).catch((function(e){console.log("error",e),alert("Added failed!")}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(t)})),children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Single / From date"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"from_date",type:"date"},r("from_date")),{},{className:"form-control ".concat(l.from_date?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(t=l.from_date)||void 0===t?void 0:t.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"To date"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"to_date",type:"date"},r("to_date")),{},{className:"form-control ".concat(l.to_date?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(a=l.to_date)||void 0===a?void 0:a.message})]}),Object(N.jsx)("div",{className:"action_buttons mt-4",children:Object(N.jsxs)("div",{className:"left_btns",children:[Object(N.jsx)("button",{type:"submit",className:"btn btn-success mr-1",children:"Apply"}),Object(N.jsx)("button",{type:"button",onClick:function(){return o()},className:"btn btn-secondary",children:"Reset"})]})})]})},Ne=(a(219),function(){var e=Object(n.useState)(h()),t=Object(x.a)(e,2),a=t[0],c=t[1],s=function(e){m(e),c(e),oe("create_daysoff_modal")};return Object(N.jsxs)("div",{className:"daysoff_page",children:[Object(N.jsxs)("div",{className:"daysoff_wrapper",children:[Object(N.jsx)("div",{className:"title_section",children:"Your days-off"}),Object(N.jsx)("div",{className:"main_content",children:Object(N.jsx)(_e,{userData:a,update_userData:s})}),Object(N.jsx)("div",{className:"add_days_off_section",children:Object(N.jsxs)("button",{className:"btn formBtn",onClick:function(){r.a.render(Object(N.jsx)(ye,{userData:a,update_userData:s}),document.getElementById("create_daysoff_modal_content")),le("create_daysoff_modal")},children:[Object(N.jsx)("i",{className:"fa fa-plus mr-2"}),Object(N.jsx)("span",{children:"Add days-off"})]})})]}),Object(N.jsx)(de,{id:"create_daysoff_modal",main_content_id:"create_daysoff_modal_content",title:"Add days-off",has_footer:!1})]})}),we=(a(220),function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,s,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h(),a=t._id,!(n=f())){e.next=9;break}return(s=new Headers).append("Authorization","Bearer ".concat(n)),r={method:"GET",headers:s,redirect:"follow"},e.next=9,fetch("http://".concat(q(A),":9000/shifts/").concat(a),r).then((function(e){return i=e.status,e.json()})).then((function(e){200===i&&c(e.shifts)})).catch((function(e){return console.log("error",e)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(N.jsx)("div",{className:"shift_today_wrapper",children:function(){var e,t,n,c,s,r=W(new Date),i=[],o=Object(u.a)(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;r===W(l.date)&&(i.push(l),e=l.job,t=l.start_time,n=l.end_time,c=l.status)}}catch(b){o.e(b)}finally{o.f()}if(0===i.length||1===i.length&&"pending"===c||1===i.length&&"denied"===c)return Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"You are free today!"}),Object(N.jsx)("p",{children:"Just sit back and relax!"})]}),Object(N.jsx)("img",{src:"".concat("","/icons/no-work-day.gif"),alt:"free day"})]});if(1===i.length&&"accepted"===c)return Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"It's work day today!"}),Object(N.jsxs)("p",{children:["Your job: ",e," ",Object(N.jsx)("br",{}),"Time: from ",t," to ",n]})]}),Object(N.jsx)("img",{src:"".concat("","/icons/work-alarm.gif"),alt:"work alarm"})]});if(1===i.length&&"done"===c)return Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"You have done your job today!"}),Object(N.jsx)("p",{children:"Just sit back and relax!"})]}),Object(N.jsx)("img",{src:"".concat("","/icons/shift-done.gif"),alt:"shift done"})]});if(2!==i.length)return Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"You are free today!"}),Object(N.jsx)("p",{children:"Just sit back and relax!"})]}),Object(N.jsx)("img",{src:"".concat("","/icons/no-work-day.gif"),alt:"free day"})]});var d=i[0],j=i[1];return"accepted"===d.status||"accepted"===j.status?Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"It's work day today!"}),Object(N.jsxs)("p",{children:["Your job: ",d.job,Object(N.jsx)("br",{}),"Time: from ",d.start_time," to ",d.end_time]}),Object(N.jsxs)("p",{children:["Your job: ",j.job,Object(N.jsx)("br",{}),"Time: from ",j.start_time," to ",j.end_time]})]}),Object(N.jsx)("img",{src:"".concat("","/icons/work-alarm.gif"),alt:"work alarm"})]}):"done"===d.status||"done"===j.status?Object(N.jsxs)("div",{className:"work_day",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"You have done your job today!"}),Object(N.jsx)("p",{children:"Just sit back and relax!"})]}),Object(N.jsx)("img",{src:"".concat("","/icons/shift-done.gif"),alt:"shift done"})]}):void 0}()})}),ke=(a(221),function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],s=a[1],r=function(e){var t=function(e,t){for(var a=[],n=p(e),c={today:!0,date:new Date},s=0;s<n.length;s++){var r=[];r.push(c,n[s]);var i=p(r);if(i[0].hasOwnProperty("today")&&!te(new Date(i[0].date),new Date(i[1].date))){for(var o=n.length-s,l=o>=0&&o<=t?n.length:s+t,d=s;d<l;d++)"accepted"===n[d].status&&a.push(n[d]);break}}return a}(e.data,5);return Object(N.jsx)(N.Fragment,{children:t.length>0?t.map((function(e,t){return Object(N.jsxs)("div",{className:"upcoming_shift",id:e._id,children:[Object(N.jsx)("p",{className:"upcoming_shift_date",children:R(e.date)}),Object(N.jsx)("div",{className:"upcoming_shift_info",children:Object(N.jsxs)("p",{children:["Your job: ",e.job,Object(N.jsx)("br",{}),"Starts at: ",e.start_time," \xa0 \xa0 / \xa0 \xa0 ends at: ",e.end_time]})})]},"upcoming_".concat(t))})):Object(N.jsxs)("div",{className:"no_upcoming_shifts",children:[Object(N.jsxs)("div",{className:"no_upcoming_shifts_text",children:[Object(N.jsxs)("p",{children:["You don't have any shifts awaiting ",Object(N.jsx)("i",{className:"far fa-grin-beam-sweat"})]}),Object(N.jsx)("p",{children:"Apply for work by adding shifts to wishlist"})]}),Object(N.jsxs)("button",{className:"add_to_wishlist_btn btn mr-1 formBtn",onClick:function(){window.location.href="/shifts/create"},children:[Object(N.jsx)("i",{className:"fa fa-plus mr-2"}),Object(N.jsx)("span",{children:"Add shifts to wishlist"})]})]})})};return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h(),a=t._id,!(n=f())){e.next=9;break}return(c=new Headers).append("Authorization","Bearer ".concat(n)),r={method:"GET",headers:c,redirect:"follow"},e.next=9,fetch("http://".concat(q(A),":9000/shifts/").concat(a),r).then((function(e){return i=e.status,e.json()})).then((function(e){200===i&&s(e.shifts)})).catch((function(e){return console.log("error",e)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(N.jsxs)("div",{className:"upcoming_shifts_wrapper",children:[Object(N.jsx)("h5",{children:"Upcoming shifts"}),Object(N.jsx)("div",{className:"upcoming_shifts_container",children:Object(N.jsx)(r,{data:c})})]})}),De=(a(222),function(){return Object(N.jsxs)("div",{className:"home_wrapper",children:[Object(N.jsx)(we,{}),Object(N.jsx)(ke,{})]})}),Se=function(e){return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h(),!(a=f())||!t){e.next=8;break}return(n=new Headers).append("Authorization","Bearer ".concat(a)),c={method:"GET",headers:n,redirect:"follow"},e.next=8,fetch("http://".concat(q(A),":9000/users/").concat(t._id),c).then((function(e){return s=e.status,e.json()})).then((function(e){200===s&&m(e.user_data)})).catch((function(e){return console.log("error",e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),e.authorized?Object(N.jsxs)("div",{className:"page_wrapper",children:[Object(N.jsx)(C,{}),Object(N.jsx)("main",{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{exact:!0,path:"/",component:De}),Object(N.jsx)(o.b,{exact:!0,path:"/users/employees",component:H}),Object(N.jsx)(o.b,{exact:!0,path:"/about",component:J}),Object(N.jsx)(o.b,{exact:!0,path:"/users/:id",component:ne}),Object(N.jsx)(o.b,{exact:!0,path:"/users/create",component:ne}),Object(N.jsx)(o.b,{exact:!0,path:"/calendar",component:fe}),Object(N.jsx)(o.b,{exact:!0,path:"/timesheet",component:xe}),Object(N.jsx)(o.b,{exact:!0,path:"/daysoff",component:Ne}),Object(N.jsx)(o.b,{exact:!0,path:"/shifts/:id",component:ge}),Object(N.jsx)(o.b,{exact:!0,path:"/shifts/create",component:ge})]})}),Object(N.jsx)(I,{})]}):Object(N.jsx)(o.a,{to:"/signin"})},Ce=(a(223),function(){var e,t,a=Object(o.g)(),n=!!localStorage.getItem("logged_in_token"),c=G.b().shape({email:G.d().required("Username is required"),password:G.d().min(6,"Password must be at least 6 characters").required("Password is required")}),s={resolver:Object(U.a)(c)},r=Object(z.d)(s),i=r.register,l=r.handleSubmit,u=r.formState.errors,b=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),c=JSON.stringify(t),s={method:"POST",headers:n,body:c,redirect:"follow"},e.next=6,fetch("http:///".concat(q(A),":9000/users/login"),s).then((function(e){return console.log(e),200===e.status?console.log("Success!"):console.log("Failed!"),e.json()})).then((function(e){e.hasOwnProperty("token")?(localStorage.setItem("logged_in_token",e.token),localStorage.setItem("userData",JSON.stringify(e.userData)),a.push("/")):localStorage.removeItem("logged_in_token"),console.log(e)})).catch((function(e){console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(N.jsx)(o.a,{to:"/"}):Object(N.jsx)("div",{className:"bg-dark size_full_screen",children:Object(N.jsxs)("div",{className:"signinFormContainer",children:[Object(N.jsx)("h4",{children:"Please sign in"}),Object(N.jsxs)("form",{onSubmit:l(b),children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Username"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"email",type:"text"},i("email")),{},{className:"form-control ".concat(u.email?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(e=u.email)||void 0===e?void 0:e.message})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",Object(V.a)(Object(V.a)({name:"password",type:"password"},i("password")),{},{className:"form-control ".concat(u.password?"is-invalid":"")})),Object(N.jsx)("div",{className:"invalid-feedback",children:null===(t=u.password)||void 0===t?void 0:t.message})]}),Object(N.jsx)("div",{className:"goBtn",children:Object(N.jsx)("button",{type:"submit",className:"btn",children:"Go!"})})]}),Object(N.jsx)("div",{className:"signinLogo",children:Object(N.jsx)("p",{children:"EveryShift"})})]})})}),Ee=function(){return Object(N.jsx)(i.a,{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{path:"/signin",component:Ce}),Object(N.jsx)(o.b,{path:"/",component:function(){return Object(N.jsx)(Se,{authorized:!!localStorage.getItem("logged_in_token")})}})]})})};r.a.render(Object(N.jsx)(Ee,{}),document.getElementById("root"))},67:function(e,t,a){},98:function(e,t,a){}},[[224,1,2]]]);
//# sourceMappingURL=main.b4cd18a9.chunk.js.map